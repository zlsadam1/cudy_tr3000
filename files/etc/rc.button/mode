#!/bin/sh

# Hotplug 机制会传递 BUTTON, ACTION, SEEN 等环境变量

case "$ACTION" in
    pressed)
        logger "模式开关拨到 ON/Pressed (KEY_MODE): 启用 Wi-Fi"
        # 拨动到 ON 状态的逻辑
        /sbin/wifi up
        ;;
    released)
        logger "模式开关拨到 OFF/Released (KEY_MODE): 禁用 Wi-Fi"
        # 拨动到 OFF 状态的逻辑
        /sbin/wifi down
        ;;
esac
exit 0

# 确保有执行权限
chmod +x /etc/rc.button/mode
